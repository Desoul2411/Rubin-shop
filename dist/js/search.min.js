$(document).ready((function(){function e(e){$("body").css({overflow:"hidden","padding-right":"17px"}),$(e).fadeIn(200),$(e).css("display","flex")}function a(e=300,a=300){setTimeout((function(){$("body").css({overflow:"auto","padding-right":"0"})}),a),$(".overlay").fadeOut(e)}$(".header__mobile-menu-open-button").on("click",(function(){$(".mobile-menu-overlay").addClass("opened"),$("body").css("overflow","hidden"),setTimeout(()=>{$(".mobile-menu").addClass("opened")},0)})),$(".mobile-menu-overlay").on("click",(function(e){var a=$(".mobile-menu");e.target!=a[0]&&0===a.has(e.target).length&&($(".mobile-menu").removeClass("opened"),setTimeout(()=>{$(this).removeClass("opened"),$("body").css("overflow","auto")},300))})),$(".product-menu__menu-arrow").on("click",(function(){$(this).next().addClass("opened"),$(".wrapper").css("overflow","hidden")})),$(".submenu__close-button").on("click",(function(){$(this).parent().removeClass("opened"),$(".wrapper").css("overflow","auto")})),$(".user-menu__link_search").on("click",(function(e){e.preventDefault(),$(".search_mobile").slideToggle()})),$(".modal-confirm__ok-button").on("click",a),$(".modal-close-button").on("click",a),$(".overlay").on("click",(function(e){($(e.target).hasClass("overlay")||$(e.target).hasClass("main-card"))&&a()})),$(".card__fast-browse").on("click",(function(a){a.preventDefault(),e(".overlay_main-card")})),$(".criteria__link").on("click",(function(){e(".overlay_sizes-table")})),$(".sizes-table-modal__close-button").on("click",(function(){$(".overlay_sizes-table").fadeOut(200)})),$(".overlay_sizes-table").on("click",(function(e){$(e.target).hasClass("overlay_sizes-table")&&$(".overlay_sizes-table").fadeOut(200)})),$(".criteria__btn-full").on("click",(function(){$("body").css({overflow:"auto","padding-right":"0"}),$(".overlay").fadeOut(0),e(".overlay_added-to-cart")})),$(".footer__sign-email-form").on("submit",(function(a){a.preventDefault(),$.ajax({type:"POST",url:"mail.php",data:$(this).serialize(),success:function(){$(".modal-confirm__title").text("Cпасибо за подписку!"),$(".modal-confirm__message").text("На указанный E-mail отправлено письмо с промокодом.!"),e(".overlay_confirm-email-subscription"),$(this).find("input").val(""),$(this).trigger("reset")},error:function(){$(".modal-confirm__title").text("Что-то пошло не так..."),$(".modal-confirm__message").text("Попробуйте ещё раз"),e(".overlay_confirm-email-subscription"),$(this).find("input").val(""),$(this).trigger("reset")}})})),$(".card__into-basket").on("click",(function(a){a.preventDefault(),e(".overlay_added-to-cart")})),$(".modal-added-to-cart__continue-shopping-button").on("click",(function(){a()})),document.querySelector(".up-button").addEventListener("click",()=>{var e;e="#top",$("html,body").animate({scrollTop:$(e).offset().top-20},500)}),window.onscroll=function(){var e=3.3*$(".card").height(),a=window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;a>=e&&($(".up-button").removeClass("hidden"),$(".up-button").addClass("shown")),a<e&&($(".up-button").remove("shown"),$(".up-button").addClass("hidden"))};var t=$(".pagination__pages-wrapper"),n=$(".pagination__page-numbers"),o=$(".pagination__prevButton"),s=$(".pagination__nextButton"),i=$(".pagination_catalogue-top .pagination__page-number"),c=$(".pagination_catalogue-bottom .pagination__page-number"),l=0,r=5,d=i.length,u=r-1,v=0,m=0;switch(d){case 1:$(".pagination").css("display","none");break;case 2:r=2;break;case 3:r=3;break;case 4:r=4}var f=0;function g(e,a){e.hasClass("active")&&(0===a?$(".pagination__prevButton").addClass("disabled"):$(".pagination__prevButton").removeClass("disabled"),a===d-1?$(".pagination__nextButton").addClass("disabled"):$(".pagination__nextButton").removeClass("disabled"))}!function(){t.width(0),f=0;for(let e=v;e<=u;e++)f+=$(i[e]).width(),t.width(f)}(),$(i).each((function(e,a){$(i).hasClass("active")&&0===e&&$(".pagination__prevButton").addClass("disabled")})),o.on("click",(function(){l>0&&d<=5?(l--,$(i).removeClass("active"),$(i[l]).addClass("active"),$(c).removeClass("active"),$(c[l]).addClass("active")):l>0&&u>4?($(i).each((function(e,a){if($(a).hasClass("active")&&e>d-3)return $(a).prev().addClass("active"),$(a).removeClass("active"),!1;$(a).hasClass("active")&&e<=d-3&&(0===v?v=0:v--,l=v+1,0===u||u--,l--,u>=d-1&&(l=u),n.css("transform","translateX(-"+l*$(i[v]).width()+"px)"),$(i).each((function(e,a){if($(a).hasClass("active"))return $(a).prev().addClass("active"),$(a).removeClass("active"),!1})))})),$(c).each((function(e,a){if($(a).hasClass("active")&&e>d-3)return $(a).prev().addClass("active"),$(a).removeClass("active"),!1;$(a).hasClass("active")&&e<=d-3&&(n.css("transform","translateX(-"+l*$(c[v]).width()+"px)"),$(c).each((function(e,a){if($(a).hasClass("active"))return $(a).prev().addClass("active"),$(a).removeClass("active"),!1})))}))):u<=4&&($(i).each((function(e,a){return(!$(a).hasClass("active")||0!==e)&&($(a).hasClass("active")?($(a).prev().addClass("active"),$(a).removeClass("active"),!1):void 0)})),$(c).each((function(e,a){return(!$(a).hasClass("active")||0!==e)&&($(a).hasClass("active")?($(a).prev().addClass("active"),$(a).removeClass("active"),!1):void 0)})))})),s.on("click",(function(){d<=5&&l===d-1?l=l:5===d&&l<4||4===d&&l<3||3===d&&l<2||2===d&&l<1?(l++,$(i).removeClass("active"),$(i[l]).addClass("active"),$(c).removeClass("active"),$(c[l]).addClass("active")):u<=4?($(i).each((function(e,a){if(2===e&&(l++,v++,u++,m=t.width()/r,n.css("transform","translateX(-"+l*m+"px)")),$(a).hasClass("active"))return $(a).next().addClass("active"),$(a).removeClass("active"),!1})),$(c).each((function(e,a){if(2===e&&(m=t.width()/r,n.css("transform","translateX(-"+l*m+"px)")),$(a).hasClass("active"))return $(a).next().addClass("active"),$(a).removeClass("active"),!1}))):l<d-r||u>4&&u<d-1?(l++,u===d-1||u++,v++,m=t.width()/r,n.css("transform","translateX(-"+l*m+"px)"),$(i).each((function(e,a){if($(a).hasClass("active"))return $(a).next().addClass("active"),$(a).removeClass("active"),!1})),$(c).each((function(e,a){if($(a).hasClass("active"))return $(a).next().addClass("active"),$(a).removeClass("active"),!1}))):u===d-1&&($(i).each((function(e,a){return e!==d-1&&($(a).hasClass("active")?($(a).next().addClass("active"),$(a).removeClass("active"),!1):void 0)})),$(c).each((function(e,a){return e!==d-1&&($(a).hasClass("active")?($(a).next().addClass("active"),$(a).removeClass("active"),!1):void 0)})))})),$(i).each((function(e,a){$(a).on("click",(function(a){$(i).removeClass("active"),$(a.target).addClass("active"),d>5&&d-e>=3?(l=e<=2?0:e-2,m=t.width()/r,n.css("transform","translateX(-"+l*m+"px)"),v=e<=2?0:e-2,u=e+2):d<=5&&(l=e),g($(a.target),e)}))})),$(c).each((function(e,a){$(a).on("click",(function(a){$(c).removeClass("active"),$(a.target).addClass("active"),d>5&&d-e>=3?(l=e<=2?0:e-2,m=t.width()/r,n.css("transform","translateX(-"+l*m+"px)"),v=e<=2?0:e-2,u=e+2):d<=5&&(l=e),g($(a.target),e)}))})),$(".pagination_catalogue-top .pagination__page-number").each((function(e,a){$(a).on("click",(function(){$(a).hasClass("active")&&$(".pagination_catalogue-bottom .pagination__page-number").each((function(a,t){$(t).removeClass("active"),e===a&&$(t).addClass("active")}))}))})),$(".pagination_catalogue-bottom .pagination__page-number").each((function(e,a){$(a).on("click",(function(){$(a).hasClass("active")&&$(".pagination_catalogue-top .pagination__page-number").each((function(a,t){$(t).removeClass("active"),e===a&&$(t).addClass("active")}))}))})),$(".pagination__pages").on("click",(function(e){$(e.target).hasClass("active")&&console.log("AJAX for "+$(e.target).text()+" page")})),$(".pagination__prevButton").on("click",(function(){$(i).each((function(e,a){$(a).hasClass("active")&&(g($(a),e),console.log("AJAX for "+$(a).text()+" page"))}))})),$(".pagination__nextButton").on("click",(function(){$(i).each((function(e,a){$(a).hasClass("active")&&(g($(a),e),console.log("AJAX for "+$(a).text()+" page"))}))})),$(document).ready((function(){$(".gallery__nav-list").slick({arrows:!1,vertical:!0,slidesToShow:5,slidesToScroll:1,verticalSwiping:!0,infinite:!1,touchThreshold:10,responsive:[{breakpoint:576,settings:"unslick"}]})}));document.getElementById("carousel-gallery-modal").addEventListener("click",(function(e){const a=document.querySelectorAll(".gallery__nav-item.gallery__nav-item_modal"),t=document.querySelectorAll(".gallery__item.gallery__item_modal");for(let s=0;s<a.length;s++)n=a[s],o=t[s],n.contains(e.target)&&(t.forEach(e=>{e.classList.contains("visually-hidden")||e.classList.add("visually-hidden")}),o.classList.remove("visually-hidden"),a.forEach(e=>{e.classList.contains("gallery__nav-item_active")&&e.classList.remove("gallery__nav-item_active")}),n.classList.add("gallery__nav-item_active"));var n,o}));const p=document.getElementById("list-sizes-modal"),h=document.getElementById("chosen-size-modal");p.addEventListener("change",(function(e){const a=document.querySelectorAll('.main-card_modal input[name="very"]');console.log("страницы кнопки: "+a),console.log("страницы кликнули по: "+e.target);for(let n=0;n<a.length;n++)(t=a[n]).contains(e.target)&&(h.textContent=t.value);var t}));const _=document.getElementById("list-colors-modal"),C=document.getElementById("chosen-color-modal");_.addEventListener("change",(function(e){const a=document.querySelectorAll('.main-card_modal input[name="color"]');for(let n=0;n<a.length;n++)(t=a[n]).contains(e.target)&&(C.textContent=t.value);var t}));document.querySelector("body").addEventListener("click",(function(e){const a=document.querySelectorAll(".criteria__btn-empty");for(let n=0;n<a.length;n++)(t=a[n]).contains(e.target)&&!t.classList.contains("in-favorites")?(t.innerHTML='<svg width="15" height="13" viewBox="0 0 15 13" fill="none"\n                                     xmlns="http://www.w3.org/2000/svg">\n                                    <path d="M7.353 12.9618C7.39799 12.9884 7.44901 13.0002 7.5 13.0002C7.551 13.0002 7.60201 12.9884 7.647 12.9618C7.947 12.7934 15 8.79591 15 4.13661C15 1.85569 13.116 0.000244141 10.8 0.000244141C9.49799 0.000244141 8.29501 0.585238 7.5 1.58388C6.70499 0.585238 5.50201 0.000244141 4.2 0.000244141C1.88401 0.000244141 0 1.85569 0 4.13661C0 8.79591 7.053 12.7934 7.353 12.9618Z"\n                                          fill="#333333"/>\n                                </svg> в избранном',t.classList.add("in-favorites")):t.contains(e.target)&&t.classList.contains("in-favorites")&&(t.innerHTML='<svg width="15" height="13" viewBox="0 0 15 13" fill="none"\n                                     xmlns="http://www.w3.org/2000/svg">\n                                    <path d="M7.353 12.9618C7.39799 12.9884 7.44901 13.0002 7.5 13.0002C7.551 13.0002 7.60201 12.9884 7.647 12.9618C7.947 12.7934 15 8.79591 15 4.13661C15 1.85569 13.116 0.000244141 10.8 0.000244141C9.49799 0.000244141 8.29501 0.585238 7.5 1.58388C6.70499 0.585238 5.50201 0.000244141 4.2 0.000244141C1.88401 0.000244141 0 1.85569 0 4.13661C0 8.79591 7.053 12.7934 7.353 12.9618Z"\n                                          fill="#333333"/>\n                                </svg> добавить в избранное',t.classList.remove("in-favorites"));var t}))}));